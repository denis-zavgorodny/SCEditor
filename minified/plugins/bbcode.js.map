{"version":3,"file":"bbcode.js","sources":["../../src/plugins/bbcode.js"],"names":["$","window","document","escapeEntities","sceditor","escapeUriScheme","IE_VER","ie","IE_BR_FIX","BBCodeParser","options","this","init","tokenizeTag","tokenizeAttrs","parseTokens","normaliseNewLines","fixNesting","isChildAllowed","removeEmpty","fixChildren","convertToHTML","convertToBBCode","hasTag","quote","lower","last","base","tokenType","open","content","newline","close","TokenizeToken","type","name","val","attrs","children","closing","prototype","clone","includeChildren","splitAt","splitAtLength","childrenLen","length","inArray","splice","opts","extend","defaults","bbcodes","plugins","bbcode","tokenize","str","matches","i","toks","tokens","regex","reverse","strloop","match","push","substr","trim","atribsRegex","unquote","stripQuotes","ret","charAt","indexOf","defaultattr","exec","parse","preserveNewLines","fixInvalidChildren","removeEmptyTags","fixInvalidNesting","arr","parent","child","allowedChildren","token","curTok","previous","next","cloned","output","openTags","currentOpenTag","addTag","closesCurrentTag","closedBy","shift","pop","isSelfClosing","breakAfter","isInline","breakAfterBlock","onlyRemoveBreakAfter","left","right","parentBBCode","removedBreakEnd","removedBreakBefore","remove","childrenLength","breakEndBlock","breakEnd","breakStartBlock","breakStart","breakBeforeBlock","breakBefore","parents","insideInline","rootArr","parentIndex","parentParentChildren","args","concat","Array","apply","isTokenWhiteSpace","j","test","allowsEmpty","merge","toHTML","isRoot","html","needsBlockWrap","blockWrapOpen","lastChild","isHtmlInline","isPreFormatted","skipLastLineBreak","isFunction","call","formatBBCodeString","documentMode","join","toBBCode","attr","isBlock","quoteType","QuoteType","auto","hasOwnProperty","excludeClosing","QuoteTypes","needsQuotes","never","replace","toLowerCase","always","sceditorBBCodePlugin","buildBbcodeCache","handleStyles","handleTags","formatString","mergeSourceModeCommands","removeFirstLastDiv","tagsToBbcodes","stylesToBbcodes","validChildren","ul","ol","table","tr","code","signalToSource","fromBBCode","signalToWysiwyg","editor","getCommand","command","get","bold","txtExec","italic","underline","strike","subscript","superscript","center","justify","font","caller","_dropDown","fontName","insertText","size","fontSize","color","bulletlist","selected","each","split","orderedlist","horizontalrule","image","url","prompt","_","email","display","text","link","youtube","id","rtl","ltr","commands","tags","tag","values","styles","style","$element","blockLevel","styleValue","format","getStyle","dom","property","toString","convertBBCode","element","nodeName","bbcodeAttribs","attrib","parentNode","parentLastChild","previousSibling","parentIsInline","hasClass","nodeType","firstChild","$body","$tmpContainer","parser","parserOptions","css","appendTo","body","jquery","removeWhiteSpace","elementToBbcode","bbcodeTrim","node","vChildren","traverse","$node","curTag","vChild","isValidChild","is","data","childNodes","wholeText","nodeValue","asFragment","removeDiv","$output","hide","isFirst","hasStyling","insertBefore","nextSibling","createElement","removeChild","innerHTML","undef","arguments","p1","obj","group","escape","substring","normaliseColour","m","toHex","n","parseInt","isNaN","Math","max","min","b","strong","font-weight","em","font-style","u","text-decoration","s","sub","sup","face","font-family","font-size","list","li","*","th","td","emoticon","img","src","data-sceditor-emoticon","$elm","hr","w","h","attribs","complete","width","height","parts","a","href","blockquote","author","$cite","first","prepend","text-align","iframe","data-youtube-id","direction","ignore","set","rename","newName","fn","isPlainObject","jQuery"],"mappings":"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"}